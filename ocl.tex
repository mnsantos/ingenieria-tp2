\oclInv{Bicicleta}{Pedido.allInstances() $\rightarrow$ forAll(p1 | Pedido.allInstances() $\rightarrow$ forAll(p2 | p1.bicicletas $\rightarrow$ includes(self) $\wedge$ p2.bicicletas $\rightarrow$ includes(self) implies p1.horaSalida $\neq$ p2.horaSalida))}{No hay una bicicleta que esté en dos pedidos distintos para una misma hora}

~

\oclInv{Bicicleta}{(Bicicleta.allInstances() $\rightarrow$ select(b | b.id = self.id) $\rightarrow$ size() ) = 1}{Los identificadores de las bicicletas son distintos}

~

\oclInv{Usuario}{(Usuario.allInstances() $\rightarrow$ select(u | u.DNI = self.DNI) $\rightarrow$ size() ) = 1}{Los DNI's de los usuarios son distintos}

~

\oclInv{Usuario}{(self.penalizacion() $\rightarrow$ size() = 1) implies (
(self.alquiler $\rightarrow$ size() = 1) implies ((self.alquiler.fecha \ < \ self.penalizacion().fechaEmision $\lor$
self.alquiler.fecha \ > \ self.penalizacion.fechaVencimiento))))}{Si un usuario está penalizado, no puede alquilar bicicletas entre
la fecha de origen de la penalización y la fecha de vencimiento}

~

\oclInv{Estacion}{(Estacion.allInstances() $\rightarrow$ select (e| e.nombre = self.nombre) $\rightarrow$ size() ) = 1}
{No hay estaciones con nombres iguales}

~

\oclInv{Estacion}{(Estacion.allInstances $\rightarrow$ select(e | e.direccion = self.direccion) -> size() ) = 1}
{No hay estaciones con direcciones iguales}
	
~

\oclInv{Pedido}{self.estacionOrigen $\neq$ self.estacionDestino}{No hay pedidos con una misma estación como origen y destino}

~

\oclInv{Pedido}{(self.bicicletas $\rightarrow$ size()) < self.estacionOrigen.capacidad}{La estación origen tiene suficiente
capacidad como para albergar la cantidad de bicicletas a retirar requerida}

~

\oclInv{Pedido}{(self.bicicletas $\rightarrow$ size()) < self.estacionDestino.capacidad}{La estación destino tiene suficiente
capacidad para albergar la cantidad de bicicletas pedidas}

~

\oclInv{Pedido}{( (self.bicicletas $\rightarrow$ forAll(b | ((b.alquiler $\rightarrow$ size() = 1) implies
(b.alquiler.Hora $\neq$ self.HoraSalida))))) }{Solo se pueden transportar bicicletas que no estén alquiladas}

~

\oclInv{EmpleadoEstacion}{(Estacion.allInstances() $\rightarrow$ select ( e | e $\rightarrow$ (includes(self))) 
$\rightarrow$ size()) = 1 }{No puede haber empleados de estación iguales que trabajen en estaciones distintas}

~

\oclInv{EstacionCentro}{(EstacionPerifera.allInstances()) $\rightarrow$ forAll(e | e.capacidad*2 $\leq$ self.capacidad)}{
Las estaciones del centro tienen más capacidad que las de la periferia. (La proporción del doble parece una aproximación
razonable)}


Otras para agregar:
-No se pueden incorporar bicicletas ya existentes.
-No se puede superar la capacidad de la estacion al incorporar nuevas bicicletas.
-El pedido tiene que tener como responsable a un empleado que trabaje en la estacion destino.
-El alquiler tiene que ser emitido por un empleado que trabaje en la estación en donde fue hecho.
-Las bicicletas que se incorporan no deben estar en ninguna estación.

-No se solapan alquileres y penalizaciones.
-Hay una penalizacion si y solo si hay un alquiler indebido.







